<!DOCTYPE html>
<html>
  <head>
    <title>Автоматизация задач в GRASS GIS</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <style type="text/css">
      body { font-family: 'Arial'; }
      h1, h2, h3 {
        font-family: 'Arial';
        font-weight: normal;
      }
      .remark-code, .remark-inline-code { font-family: 'Arial'; }

      .remark-slide-content h1 { font-size: 1.9em; }
      .remark-slide-content h2 { font-size: 1.5em; }
      .remark-slide-content h3 { font-size: 1.3em; }

      .inverse {
        background: #272822;
        color: #777872;
        text-shadow: 0 0 20px #333;
      }
      .inverse h1, .inverse h2 {
        color: #f3f3f3;
        line-height: 0.8em;
      }
      .inverse h3{
        color: #d0d0d0;
        line-height: 0.8em;
      }

      .small {font-size: 0.9em;}
      .tiny {font-size: 0.5em;}

      .footnote {font-size: 0.8em; color: #7070aa;}

      /* Two-column layout */
      .left-column {
        color: #000;
        width: 30%;
        height: 92%;
        float: left;
      }
      .left-column h2:last-of-type, .left-column h3:last-child {
          color: #000;
        }
      .right-column {
        width: 60%;
        float: right;
        padding-top: 1em;
      }

    </style>
    <script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML&delayStartupUntil=configured" type="text/javascript"></script>
  </head>
  <body>
    <textarea id="source">

class: center, middle

# Автоматизация задач в GRASS GIS 
### Колесов Д., Мурый А. 

---
# Содержание

1. Обзор графического интерфейса
2. Знакомство с командами GRASS
3. Простейшая циклическая обработка
4. Последовательность команд == скрипт
5. Создание модулей GRASS 
6. Параллелизация "для бедных"


---
# Графичекий интерфейс пользователя

.center[<img src="img/GUI.png" width=500  />]

1. Окно терминала (консоль). Активно используется при работе с коммандной строкой, особенно под ОС Linux, MacOS.
2. Окно менеджера слоев:
  * Дерево слоев.
  * Командная консоль ("бедная").
  * Поиск модулей.
  * Интерпретатор Python.
3. Окно карты.

---

# Интерполяция на базе модуля v.surf.rst (Regularized Spline with Tension)

Метод сплайнов моделирует поведение гибкой растяжимой пластины, которая закрепляется между точками. 

```bash
v.surf.rst -c input=name [zcolumn=name] elevation=name aspect=name \
	tension=float smooth=float segmax=integer npmin=integer 
```
Параметры:
* input=name название входной векторной карты с высотами;
* zcolumn=name название столбца, в котором хранятся высоты;
* elevation=name название выходной растровой карты с высотами;
* aspect=name называние выходной растровой карты с экспозицией склонов;
* segmax=integer, npmin=integer параметры, контролирующие скорость обработки за счет разбиения области на участки.

Пример запуска:
```bash
g.region vector=elev_points res=2
v.surf.rst elev_points elev=elev_2m zcol=value aspect=asp_2m segmax=30 npmin=140
r.colors map=asp_2m color=aspect
```
---
# Параметры настройки: tension и smooth
Метод сплайнов моделирует поведение гибкой растяжимой пластины, которая закрепляется между точками. 

* tension (растяжение) параметр моделирует степень растяжения пластины в диапазоне от жесткой пластины до эластичной мембраны. Чем меньше
значение параметра, тем тверже считается пластина, соответственно на выходе получаются мало рельефные, "плоские" поверхности. 
Соответственно в местах резкого изменения высот низкие значения параметра излишне сглаживают рельеф. Высокие значения параметра
приводят к созданию эластичной резиновой мембраны, и в результате каждая точка "вытягивает" эту мембрану в свою сторону и вокруг точек появляются 
локальные "пики" или "ямы".
* smooth (гладкость) параметр можно представить как пружины, прицепленные к каждой точке, которые "тянут" пластину к себе. Чем больше значение
параметра, тем "мягче" пружина и тем большее допустимое отклонение пластины от точек. Чем меньше параметр, тем сильнее пружина, и при нулевом значении 
параметра пластина пройдет точно через точку. (GRASS позволяет задать каждой точке свое значение smooth)

    </textarea>
	<script src="https://gnab.github.io/remark/downloads/remark-latest.min.js">
    </script>
    <script type="text/javascript">
      var slideshow = remark.create();
      // Setup MathJax
      MathJax.Hub.Config({
          tex2jax: {
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre']
          }
      });
      MathJax.Hub.Queue(function() {
          $(MathJax.Hub.getAllJax()).map(function(index, elem) {
              return(elem.SourceElement());
          }).parent().addClass('has-jax');
      });

      MathJax.Hub.Configured();
    </script>
  </body>
</html>
